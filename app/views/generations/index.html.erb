<div class="container">
  <div class="page-header">
    <%= link_to new_generation_path, class: 'btn btn-primary' do %>
      <span class="glyphicon glyphicon-plus"></span>
      Rajouter une génération
    <% end %>
  </div>
    
  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th>Légume</th> 
          <% 52.times do %>
            <th></th>
          <% end %>  
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        <%= content_tag_for(:tr, @generations) do |generation| %>
        <td><%= generation.legume.titre unless generation.legume.nil? %></td>
              <% for i in 1..52 %>
                <% if generation.semi_from == i %>
                  <td>SF</td>
                <% elsif generation.semi_to == i %>
                  <td>ST</td>
                <% elsif generation.plantation == i %>
                  <td>PL</td>
                <% elsif generation.recolte == i %>
                  <td>REC</td>
                <% elsif generation.conservation_to == i %>
                  <td>FIN</td>
                <% else %>
                  <td></td>
                <% end %>

              <% end %> 
          <td><%= link_to 'Show', generation %></td>
          <td><%= link_to 'Edit', edit_generation_path(generation) %></td>
          <td><%= link_to 'Destroy', generation, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tbody>
    </table>
  </div>
</div>